{% extends "main/layout.html" %}

{% block title %}Mind First - Habit Summary{% endblock %}

{% block links %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tachyons/4.11.1/tachyons.min.css">
<link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.css" />
<link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
<style>
    .text-dark {
        color: #000000 !important;
    }

    a.btn {
        text-align: center;
        padding: 1px 0px;
        min-width: 91px;
        font-size: 12px;
    }

    .bg-dark {
        background-color: #000000 !important;
    }

    .box {
        width: 100%;
    }

    .box h2 {
        display: block;
        text-align: center;
        color: black;
        margin: inherit;
    }

    .box .chart-bad,
    .box .chart2-bad {
        position: relative;
        width: 90%;
        height: 100%;
        text-align: center;
        font-size: 22px;
        line-height: 26rem;
        height: 160px;
        color: black;
        left: 6%;
        margin-bottom: 45%;
    }

    .box canvas {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        width: 100%;
    }


    @media(max-width: 992px) {

        .box .chart-bad,
        .box .chart2-bad {
            position: relative;
            width: 54%;
            height: 100%;
            text-align: center;
            font-size: 22px;
            line-height: 160px;
            height: 137px;
            color: black;
            left: 20%;
            margin-bottom: 0%;
        }

        .box h2 {
            display: block;
            text-align: center;
            color: black;
            margin: 28px;
        }

    }
</style>
{% endblock %}

{% block content %}

<!-- loading static -->
{% load static %}
<div class="container-fluid mt-4 mb-5">
    <div class="row">
        <div class="col-md-7 col-lg-6 col-xl-4">
            <div class="boxdevgray move-up  animate border">
                <div style="opacity: 0.8; background: black" class="over-lay p-4 bg-dark text-white text-center">
                    <h1 style="font-weight:200; text-transform: capitalize">{{ aspiration_name }}</h1>
                </div>
                <div class="img-box">
                    <img src="{% static 'media/' %}{{ aspiration_image }}"
                        style="width: 100%;height: 246px;object-fit: cover;display: block;max-width: 100%;max-height: 100%;"
                        alt="25anniversary" class="img-responsive" />
                </div>
                <div class="p-4">
                    <form method="post" action="#">
                        <div class="m-2">
                            <p>
                                <i>"By not doing your bad habits, you are not feeding them. They get weaker and you gain
                                    control over them, helping you to be who you want to be"</i>
                            </p>
                        </div>
                        <hr>
                        <div class="container p-2">
                            <div class="row">
                                <div class="col-md-12 text-left">
                                    <label class="text-dark" style="font-size: 1.5rem;margin:7px -2px;">HABITS CONTROL
                                        SUMMARY</label>
                                </div>
                                <div class="col-md-6 mt-2 text-center">
                                    <div class="box">
                                        <div class="chart-bad" data-percent="{{ bad_behavior_form.today_summary }}">
                                            {{ bad_behavior_form.habits_done_length }}/{{
                                            bad_behavior_form.selected_behaviors }}
                                            <canvas height="160" width="160"></canvas>
                                        </div>
                                        <h2>Today</h2>
                                    </div>
                                </div>
                                <div class="col-md-6 mt-2 text-center">
                                    <div class="box">
                                        <div class="chart2-bad" data-percent="{{ bad_behavior_form.weekly_summary }}">
                                            {{ bad_behavior_form.behaviors_done_this_week }}
                                            <canvas height="160" width="160"></canvas>
                                        </div>
                                        <h2>Last 7 Days</h2>
                                        <p class="paragraph-1th">Updated at 00:01 each day</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="p-4 d-flex justify-content-center">
                    <div class="d-flex justify-content-center justify-content-md-between"
                        style="min-width: 100%; flex-wrap: wrap; align-items: center;">
                        <a href="{% url 'main:behaviour_mapping' %}"
                            class="col-md-2 mx-auto mt-2 text-center btn btn-warning text-light">Behaviour</a>
                        <a href="{% url 'main:members_area' %}#habit_tracker"
                            class="col-md-2 mx-auto mt-2 text-center btn btn--primary text-light">Tracker</a>
                        <a href="{% url 'main:limiting_beliefs' %}"
                            class="col-md-2 mx-auto mt-2 text-center btn btn-primary text-light">Beliefs</a>
                        <a class="col-md-2 mx-auto mt-2 text-center btn btn-danger text-light">Check-in</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}

{% block scripts %}
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/easy-pie-chart/2.1.6/jquery.easypiechart.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
<script src="{% static 'main/js/habit.js' %}"></script>
<script>
    $(function () {
        $('.chart-bad').easyPieChart({
            size: 160,
            barColor: "green",
            scaleLength: 0,
            lineWidth: 15,
            trackColor: "#cf4141",
            lineCap: "circle",
            animate: 2000,
        });
        $('.chart2-bad').easyPieChart({
            size: 160,
            barColor: "green",
            scaleLength: 0,
            lineWidth: 15,
            trackColor: "#cf4141",
            lineCap: "circle",
            animate: 2000,
        });
    });

</script>
{% endblock %}